/** Notify.js - v0.3.1 - 2014/06/29
 * http://notifyjs.com/
 * Copyright (c) 2014 Jaime Pillora - MIT
 */
!function(t,e,n,i){"use strict";var r,o,s,a,l,h,c,d,u,p,f,m,w,y,b,g,v,x,S,k,P,C,N,H,T,A,M,j=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};P="notify",k=P+"js",s=P+"!blank",N={t:"top",m:"middle",b:"bottom",l:"left",c:"center",r:"right"},w=["l","c","r"],M=["t","m","b"],v=["t","b","l","r"],x={t:"b",m:null,b:"t",l:"r",c:null,r:"l"},S=function(t){var e;return e=[],n.each(t.split(/\W+/),function(t,n){var r;return r=n.toLowerCase().charAt(0),N[r]?e.push(r):i}),e},A={},a={name:"core",html:'<div class="'+k+'-wrapper">\n  <div class="'+k+'-arrow"></div>\n  <div class="'+k+'-container"></div>\n</div>',css:"."+k+"-corner {\n  position: fixed;\n  margin: 5px;\n  z-index: 1050;\n}\n\n."+k+"-corner ."+k+"-wrapper,\n."+k+"-corner ."+k+"-container {\n  position: relative;\n  display: block;\n  height: inherit;\n  width: inherit;\n  margin: 3px;\n}\n\n."+k+"-wrapper {\n  z-index: 1;\n  position: absolute;\n  display: inline-block;\n  height: 0;\n  width: 0;\n}\n\n."+k+"-container {\n  display: none;\n  z-index: 1;\n  position: absolute;\n}\n\n."+k+"-hidable {\n  cursor: pointer;\n}\n\n[data-notify-text],[data-notify-html] {\n  position: relative;\n}\n\n."+k+"-arrow {\n  position: absolute;\n  z-index: 2;\n  width: 0;\n  height: 0;\n}"},T={"border-radius":["-webkit-","-moz-"]},f=function(t){return A[t]},o=function(e,i){var r,o,s,a;if(!e)throw"Missing Style name";if(!i)throw"Missing Style definition";if(!i.html)throw"Missing Style HTML";return(null!=(a=A[e])?a.cssElem:void 0)&&(t.console&&console.warn(""+P+": overwriting style '"+e+"'"),A[e].cssElem.remove()),i.name=e,A[e]=i,r="",i.classes&&n.each(i.classes,function(t,e){return r+="."+k+"-"+i.name+"-"+t+" {\n",n.each(e,function(t,e){return T[t]&&n.each(T[t],function(n,i){return r+="  "+i+t+": "+e+";\n"}),r+="  "+t+": "+e+";\n"}),r+="}\n"}),i.css&&(r+="/* styles for "+i.name+" */\n"+i.css),r&&(i.cssElem=g(r),i.cssElem.attr("id","notify-"+i.name)),s={},o=n(i.html),u("html",o,s),u("text",o,s),i.fields=s},g=function(t){var e;e=l("style"),e.attr("type","text/css"),n("head").append(e);try{e.html(t)}catch(i){e[0].styleSheet.cssText=t}return e},u=function(t,e,i){var r;return"html"!==t&&(t="text"),r="data-notify-"+t,d(e,"["+r+"]").each(function(){var e;return e=n(this).attr(r),e||(e=s),i[e]=t})},d=function(t,e){return t.is(e)?t:t.find(e)},C={clickToHide:!0,autoHide:!0,autoHideDelay:5e3,arrowShow:!0,arrowSize:5,breakNewLines:!0,elementPosition:"bottom",globalPosition:"top right",style:"bootstrap",className:"error",showAnimation:"slideDown",showDuration:400,hideAnimation:"slideUp",hideDuration:200,gap:5},b=function(t,e){var i;return i=function(){},i.prototype=t,n.extend(!0,new i,e)},h=function(t){return n.extend(C,t)},l=function(t){return n("<"+t+"></"+t+">")},m={},p=function(t){var e;return t.is("[type=radio]")&&(e=t.parents("form:first").find("[type=radio]").filter(function(e,i){return n(i).attr("name")===t.attr("name")}),t=e.first()),t},y=function(t,e,n){var r,o;if("string"==typeof n)n=parseInt(n,10);else if("number"!=typeof n)return;return isNaN(n)?void 0:(r=N[x[e.charAt(0)]],o=e,t[r]!==i&&(e=N[r.charAt(0)],n=-n),t[e]===i?t[e]=n:t[e]+=n,null)},H=function(t,e,n){if("l"===t||"t"===t)return 0;if("c"===t||"m"===t)return n/2-e/2;if("r"===t||"b"===t)return n-e;throw"Invalid alignment"},c=function(t){return c.e=c.e||l("div"),c.e.text(t).html()},r=function(){function t(t,e,i){"string"==typeof i&&(i={className:i}),this.options=b(C,n.isPlainObject(i)?i:{}),this.loadHTML(),this.wrapper=n(a.html),this.options.clickToHide&&this.wrapper.addClass(""+k+"-hidable"),this.wrapper.data(k,this),this.arrow=this.wrapper.find("."+k+"-arrow"),this.container=this.wrapper.find("."+k+"-container"),this.container.append(this.userContainer),t&&t.length&&(this.elementType=t.attr("type"),this.originalElement=t,this.elem=p(t),this.elem.data(k,this),this.elem.before(this.wrapper)),this.container.hide(),this.run(e)}return t.prototype.loadHTML=function(){var t;return t=this.getStyle(),this.userContainer=n(t.html),this.userFields=t.fields},t.prototype.show=function(t,e){var n,r,o,s,a,l=this;if(r=function(){return t||l.elem||l.destroy(),e?e():i},a=this.container.parent().parents(":hidden").length>0,o=this.container.add(this.arrow),n=[],a&&t)s="show";else if(a&&!t)s="hide";else if(!a&&t)s=this.options.showAnimation,n.push(this.options.showDuration);else{if(a||t)return r();s=this.options.hideAnimation,n.push(this.options.hideDuration)}return n.push(r),o[s].apply(o,n)},t.prototype.setGlobalPosition=function(){var t,e,i,r,o,s,a,h;return h=this.getPosition(),a=h[0],s=h[1],o=N[a],t=N[s],r=a+"|"+s,e=m[r],e||(e=m[r]=l("div"),i={},i[o]=0,"middle"===t?i.top="45%":"center"===t?i.left="45%":i[t]=0,e.css(i).addClass(""+k+"-corner"),n("body").append(e)),e.prepend(this.wrapper)},t.prototype.setElementPosition=function(){var t,e,r,o,s,a,l,h,c,d,u,p,f,m,b,g,S,k,P,C,T,A,z,D,E,L,O,I,W;for(z=this.getPosition(),C=z[0],k=z[1],P=z[2],u=this.elem.position(),h=this.elem.outerHeight(),p=this.elem.outerWidth(),c=this.elem.innerHeight(),d=this.elem.innerWidth(),D=this.wrapper.position(),s=this.container.height(),a=this.container.width(),m=N[C],g=x[C],S=N[g],l={},l[S]="b"===C?h:"r"===C?p:0,y(l,"top",u.top-D.top),y(l,"left",u.left-D.left),W=["top","left"],E=0,O=W.length;O>E;E++)T=W[E],b=parseInt(this.elem.css("margin-"+T),10),b&&y(l,T,b);if(f=Math.max(0,this.options.gap-(this.options.arrowShow?r:0)),y(l,S,f),this.options.arrowShow){for(r=this.options.arrowSize,e=n.extend({},l),t=this.userContainer.css("border-color")||this.userContainer.css("background-color")||"white",L=0,I=v.length;I>L;L++)T=v[L],A=N[T],T!==g&&(o=A===m?t:"transparent",e["border-"+A]=""+r+"px solid "+o);y(l,N[g],r),j.call(v,k)>=0&&y(e,N[k],2*r)}else this.arrow.hide();return j.call(M,C)>=0?(y(l,"left",H(k,a,p)),e&&y(e,"left",H(k,r,d))):j.call(w,C)>=0&&(y(l,"top",H(k,s,h)),e&&y(e,"top",H(k,r,c))),this.container.is(":visible")&&(l.display="block"),this.container.removeAttr("style").css(l),e?this.arrow.removeAttr("style").css(e):i},t.prototype.getPosition=function(){var t,e,n,i,r,o,s,a;if(e=this.options.position||(this.elem?this.options.elementPosition:this.options.globalPosition),t=S(e),0===t.length&&(t[0]="b"),n=t[0],0>j.call(v,n))throw"Must be one of ["+v+"]";return(1===t.length||(i=t[0],j.call(M,i)>=0&&(r=t[1],0>j.call(w,r)))||(o=t[0],j.call(w,o)>=0&&(s=t[1],0>j.call(M,s))))&&(t[1]=(a=t[0],j.call(w,a)>=0?"m":"l")),2===t.length&&(t[2]=t[1]),t},t.prototype.getStyle=function(t){var e;if(t||(t=this.options.style),t||(t="default"),e=A[t],!e)throw"Missing style: "+t;return e},t.prototype.updateClasses=function(){var t,e;return t=["base"],n.isArray(this.options.className)?t=t.concat(this.options.className):this.options.className&&t.push(this.options.className),e=this.getStyle(),t=n.map(t,function(t){return""+k+"-"+e.name+"-"+t}).join(" "),this.userContainer.attr("class",t)},t.prototype.run=function(t,e){var r,o,a,l,h,u=this;if(n.isPlainObject(e)?n.extend(this.options,e):"string"===n.type(e)&&(this.options.className=e),this.container&&!t)return this.show(!1),i;if(this.container||t){o={},n.isPlainObject(t)?o=t:o[s]=t;for(a in o)r=o[a],l=this.userFields[a],l&&("text"===l&&(r=c(r),this.options.breakNewLines&&(r=r.replace(/\n/g,"<br/>"))),h=a===s?"":"="+a,d(this.userContainer,"[data-notify-"+l+h+"]").html(r));return this.updateClasses(),this.elem?this.setElementPosition():this.setGlobalPosition(),this.show(!0),this.options.autoHide?(clearTimeout(this.autohideTimer),this.autohideTimer=setTimeout(function(){return u.show(!1)},this.options.autoHideDelay)):i}},t.prototype.destroy=function(){return this.wrapper.remove()},t}(),n[P]=function(t,e,i){return t&&t.nodeName||t.jquery?n(t)[P](e,i):(i=e,e=t,new r(null,e,i)),t},n.fn[P]=function(t,e){return n(this).each(function(){var i;return i=p(n(this)).data(k),i?i.run(t,e):new r(n(this),t,e)}),this},n.extend(n[P],{defaults:h,addStyle:o,pluginOptions:C,getStyle:f,insertCSS:g}),n(function(){return g(a.css).attr("id","core-notify"),n(e).on("click","."+k+"-hidable",function(){return n(this).trigger("notify-hide")}),n(e).on("notify-hide","."+k+"-wrapper",function(){var t;return null!=(t=n(this).data(k))?t.show(!1):void 0})})}(window,document,jQuery);