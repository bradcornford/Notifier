/** Notifier.js - v1.5.1 - 2015/17/12
 * https://github.com/bradcornford/Notifier
 * Copyright (c) 2015 Bradley Cornford - MIT
 */
!function(t){t.notify.addStyle("bootstrap",{html:'<div class="alert" role="alert">\n<span data-notify-text></span>\n</div>',classes:{base:{padding:"15px","margin-bottom":"20px",border:"1px solid transparent","border-radius":"4px",color:"#545454","background-color":"#e8e8e8","border-color":"#d1d1d1"},error:{color:"#a94442","background-color":"#f2dede","border-color":"#ebccd1"},success:{color:"#3c763d","background-color":"#dff0d8","border-color":"#d6e9c6"},info:{color:"#31708f","background-color":"#d9edf7","border-color":"#bce8f1"},warn:{color:"#8a6d3b","background-color":"#fcf8e3","border-color":"#faebcc"}}});var o,e,i,r=0;t.fn.notifier=function(n){var a=t.extend({enabled:!0,pageLoad:!0,ajaxLoad:!0,clickToHide:!0,autoHide:!0,autoHideDelay:5e3,globalPosition:"top right",style:"bootstrap",className:"error",showAnimation:"slideDown",showDuration:1e3,hideAnimation:"slideUp",hideDuration:200,gap:1,urlExceptions:["/notifier/notifications"]},n);return a.urlExceptions.push("/notifier/notifications"),o=t(location).attr("href").indexOf("public")>-1?t(location).attr("href").split("public")[0]+"public/notifier/notifications":t(location).attr("protocol")+"//"+t(location).attr("host")+"/notifier/notifications",i=a,notifierDisplay=function(t,r){var n=!1;i.enabled&&i.ajaxLoad&&r!=o?(n=!0,i.urlExceptions.forEach(function(t){r.indexOf(t)>-1&&(n=!1)})):n=!1,n&&setTimeout(function(){e()},2e3)},e=function(){t.getJSON(o,function(o){t.each(o.notifications,function(o,e){e.options.className=e.type,t.notify(e.message,t.extend(a,e.options))})})},i.enabled&&i.pageLoad&&e(),t(document).ajaxComplete(function(t,o,e){0==r&&(r=t.timestamp),r!=t.timestamp&&notifierDisplay(e,e.url)}),t(document).on("bootstrap-ajax:success bootstrap-ajax:error",function(t,o){var e;if(r=t.timestamp,o.context.hasAttribute("data-url"))e=o.context.getAttribute("data-url");else if(o.context.hasAttribute("href"))e=o.context.getAttribute("href");else if(o.context.hasAttribute("src"))e=o.context.getAttribute("href");else if(o.context.hasAttribute("action"))e=o.context.getAttribute("action");else{if(!o.context.hasAttribute("formaction"))return;e=o.context.getAttribute("formaction")}notifierDisplay(o,e)}),this}}(jQuery);
